# 機能仕様書: シンプル Todo アプリ

**機能ブランチ**: `001-simple-todo-app`  
**作成日**: 2025-12-30  
**ステータス**: ドラフト  
**入力**: ユーザー記述: "個人用のタスク管理アプリを作成する。目的：日々のタスクを管理し、完了状況を把握できるようにする。ユーザー：自分一人で使用する。ログイン機能は不要。必要な機能：- タスクの追加：テキストを入力してタスクを作成できる - タスクの完了：チェックを付けて完了状態にできる - タスクの削除：不要なタスクを削除できる - タスクの一覧表示：すべてのタスクをリスト形式で表示する 画面構成：- 1 画面のみで構成する - 画面上部にタスク追加フォームを配置する - その下にタスク一覧を表示する - 完了したタスクは取り消し線で表示する データの保存：- ブラウザを閉じてもデータが消えないようにする"

## ユーザーシナリオとテスト _(必須)_

### ユーザーストーリー 1 - 新しいタスクを追加する (優先度: P1)

ユーザーは、忘れないようにテキストベースのタスクをリストに素早く追加したい。

**優先度の理由**: コア機能。タスクを追加できなければ、アプリの有用性がないため。

**独立したテスト**: アプリを開き、リストに複数のアイテムを正常に追加できることで完全にテスト可能。

**受け入れシナリオ**:

1. **前提** アプリが開いており、タスクリストが表示されている。 **操作** ユーザーが入力フィールドに「牛乳を買う」と入力して送信する。 **結果** タスクリストに「牛乳を買う」が表示され、入力フィールドがクリアされる。
2. **前提** 入力フィールドが空である。 **操作** ユーザーが送信を試みる。 **結果** 新しいタスクは作成されない（空のタスクを防止）。

---

### ユーザーストーリー 2 - タスクを完了としてマークする (優先度: P1)

ユーザーは、進捗を確認し、保留中のタスクと区別するために、タスクを完了としてマークしたい。

**優先度の理由**: 「完了状況を把握する」という目的のために不可欠。

**独立したテスト**: 既存のタスクの完了状態を切り替え、視覚的なフィードバックを観察することで完全にテスト可能。

**受け入れシナリオ**:

1. **前提** アクティブなタスク「牛乳を買う」がある。 **操作** ユーザーがその横にあるチェックボックスをオンにする。 **結果** 「牛乳を買う」というテキストに取り消し線が表示される。
2. **前提** 取り消し線付きの完了したタスクがある。 **操作** ユーザーがチェックボックスをオフにする。 **結果** 取り消し線が消え、タスクが再びアクティブとして表示される。

---

### ユーザーストーリー 3 - データの保存 (優先度: P1)

ユーザーは、後でアプリに戻ったときに利用できるように、タスクを保存しておきたい。

**優先度の理由**: 個人管理ツールにとって重要。データ消失は信頼と有用性を損なうため。

**独立したテスト**: タスクを追加し、ブラウザタブを閉じ、再度開いて、タスクがまだ存在することを確認することでテスト可能。

**受け入れシナリオ**:

1. **前提** ユーザーがタスクを追加し、いくつかを完了としてマークしている。 **操作** ブラウザを閉じて再度開く。 **結果** 完了状態を含め、まったく同じタスクリストが表示される。

---

### ユーザーストーリー 4 - タスクを削除する (優先度: P2)

ユーザーは、リストを整理するために、不要になったタスクや誤ったタスクを削除したい。

**優先度の理由**: リストのメンテナンスには重要だが、基本的な MVP としては追加/完了よりも重要度は低い。

**独立したテスト**: タスクを作成し、特定のタスクを削除することで完全にテスト可能。

**受け入れシナリオ**:

1. **前提** 「タスク A」と「タスク B」を含むリストがある。 **操作** ユーザーが「タスク A」の削除ボタンをクリックする。 **結果** 「タスク A」がリストから削除され、「タスク B」は残る。

---

### エッジケース

- ユーザーが非常に長いタスクテキストを入力した場合どうなるか？（折り返しまたはスクロールが必要だが、表示/アクセス可能でなければならない）
- ユーザーが特殊文字や絵文字を入力した場合どうなるか？（サポートされるべき）
- ユーザーが重複するタスクを追加しようとした場合どうなるか？（ユーザーが定期的な同一タスクを持つ可能性があるため、許可される）

## 要件 _(必須)_

### 機能要件

- **FR-001**: システムは、ユーザーがテキストを入力して新しいタスクを作成できるようにしなければならない（MUST）。
- **FR-002**: システムは、作成されたすべてのタスクを単一のビューでリスト表示しなければならない（MUST）。
- **FR-003**: システムは、各タスクの完了状態を切り替えるためのチェックボックスを提供しなければならない（MUST）。
- **FR-004**: システムは、完了したタスクをテキストの取り消し線スタイルを使用して視覚的に示さなければならない（MUST）。
- **FR-005**: システムは、個々のタスクを削除するメカニズム（例：ボタン）を提供しなければならない（MUST）。
- **FR-006**: システムは、セッションの再起動後も存続するように、すべてのタスクデータ（テキストと完了状態）をユーザーのデバイス上にローカルに保存しなければならない（MUST）。
- **FR-007**: システムは、上部に追加フォーム、その下にリストを配置した単一の統合ビューですべての機能を提供しなければならない（MUST）。

### 主要エンティティ _(データが含まれる場合)_

- **Task (タスク)**: 単一の ToDo 項目を表す。
  - `id`: 一意の識別子（削除/更新用）。
  - `text`: タスクの内容（文字列）。
  - `isCompleted`: タスクの状態（ブール値）。

## 成功基準 _(必須)_

### 測定可能な成果

- **SC-001**: ユーザーは、送信後 1 秒以内に新しいタスクを追加し、リストで確認できる。
- **SC-002**: タスクデータは、ブラウザの更新や再起動を行っても 100%の確率で保持される。
- **SC-003**: タスク完了の視覚的フィードバック（取り消し線）は、ユーザーの操作時に即座（100 ミリ秒未満）に表示される。
- **SC-004**: ユーザーは、リスト内の他のタスクに影響を与えることなく、特定のタスクを正常に削除できる。
