---
description: プロジェクトのドキュメントディレクトリ構造を作成し、README で構成を説明する軽量セットアップワークフロー
auto_execution_mode: 1
---

# SetupDocStructure (a-001)

## 目的

- プロジェクトルートに標準化されたドキュメントディレクトリ構造を作成する。
- `docs/README.md` を作成し、ドキュメント構成と更新方針を明文化する。

## 前提

- プロジェクトのルートディレクトリへの書き込み権限があること。
- `docs/` ディレクトリが存在しない、または既存の構造を拡張したいこと。

## 手順

### 1. スクリプトの実行

- ドキュメント構造セットアップのために、環境に応じたスクリプトを実行してください。

  ```bash
  # 環境を自動検出してスクリプトを実行
  if [ -d ".agent" ]; then
    SCRIPT_DIR=".agent"
  elif [ -d ".windsurf" ]; then
    SCRIPT_DIR=".windsurf"
  elif [ -d ".cursor" ]; then
    SCRIPT_DIR=".cursor"
  elif [ -d ".claude" ]; then
    SCRIPT_DIR=".claude"
  else
    echo "エラー: AI coding assistant ディレクトリが見つかりません"
    exit 1
  fi

  bash "$SCRIPT_DIR/scripts/setup-docs.sh"
  ```

### 2. 結果の確認

- スクリプトの実行結果を確認し、エラーがないことを確認してください。
- 生成された構造：
  ```
  docs/
  ├── README.md
  ├── project/
  │   ├── 01-requirements/
  │   ├── 02-behavior/
  │   ├── 03-domain/
  │   └── 04-design/
  └── tasks/
  ```

### 3. Git への追加（オプション）

- ユーザーに確認：「作成したディレクトリ構造を Git に追加しますか？」
- 「はい」の場合、以下を実行：
  ```bash
  git add docs/
  git status
  ```
- Git status の結果を表示し、コミットメッセージの提案をする：

  ```
  推奨コミットメッセージ:
  ドキュメント構造の初期化

  - 標準的な構造を持つ docs/ ディレクトリを追加
  - ドキュメント構成を説明する docs/README.md を追加
  ```

### 4. 完了条件の確認

- 以下の完了条件を満たしているか、チェックリストで確認してください：
  - [ ] スクリプトが正常に終了した
  - [ ] `docs/` ディレクトリ構造が正しく作成されている

## 完了条件

- プロジェクトルートに `docs/` ディレクトリが作成されている。
- `docs/project/` 配下に `01-requirements/`, `02-behavior/`, `03-domain/`, `04-design/` ディレクトリが存在する。
- `docs/tasks/` ディレクトリが存在する。
- `docs/README.md` が作成されている。
- ユーザーに作成結果が報告されている。

## エスカレーション

- 既存の `docs/` ディレクトリが存在し、重要なファイルが含まれている場合：
  - 「既存のドキュメント構造が検出されました。上書きや削除のリスクがあるため、手動で確認してください。」と警告し、処理を中断する。
- ファイルシステムの権限エラーが発生した場合：
  - 「ディレクトリの作成に失敗しました。書き込み権限を確認してください。」とユーザーに通知する。
- Git リポジトリでない場合に Git 追加を試みた場合：
  - 「このディレクトリは Git リポジトリではありません。Git の初期化が必要な場合は `git init` を実行してください。」と案内する。
